`__dirname`: 总是返回被执行的 js 所在文件夹的绝对路径
`__filename`: 总是返回被执行的 js 的绝对路径

`process.cwd()`: 总是返回运行 node 命令时所在的文件夹的绝对路径
`./`: 跟 `process.cwd()` 一样、一样、一样的吗？


Node 中的文件路径大概有 `__dirname`, `__filename`, `process.cwd()`, `./ `或者 `../`，前三个都是绝对路径，为了便于比较，

`./` 和 `../` 我们通过 `path.resolve('./')`来转换为绝对路径。


# 结论：

只有在 require() 时才使用**相对路径(./, ../) **的写法
其他地方一律使用**绝对路径**

```
<!-- 使用错误 readFile() 需要使用绝对路径，否则是因为启动脚本的目录不一样而改变-->

fs.readFile('../lib/common.js', function (err, data) {
    if (err) return console.log(err);
    console.log(data);
});
```

如下：

// 当前目录下
path.dirname(__filename) + '/test.js';
// 相邻目录下
path.resolve(__dirname, '../lib/common.js');


# eg

假如我们有这样的文件结构：

```
app/
    -lib/
        -common.js
    -model
        -task.js
        -test.js
```

在 task.js 里编写如下的代码：

```
var path = require('path');

console.log(__dirname);
console.log(__filename);
console.log(process.cwd());
console.log(path.resolve('./'));
```

在 model 目录下运行 node task.js 得到的输出是：

```
/Users/guo/Sites/learn/app/model
/Users/guo/Sites/learn/app/model/task.js
/Users/guo/Sites/learn/app/model
/Users/guo/Sites/learn/app/model
```

然后在 app 目录下运行 node model/task.js，得到的输出是：

```
/Users/guo/Sites/learn/app/model
/Users/guo/Sites/learn/app/model/task.js
/Users/guo/Sites/learn/app
/Users/guo/Sites/learn/app
```